function createCookie(e,t,n){var r="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toUTCString()}document.cookie=e+"="+t+r+"; path=/"}function readCookie(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function eraseCookie(e){createCookie(e,"",-1)}function deletechecked(e){return confirm("Delete item?")&&(window.location=e),!1}function delimitation_text(e,t,n){return txt_dotted="",e.length>n&&(txt_dotted=" ..."),e.substring(t,n)+txt_dotted}function loadbtn(e){for(var t in slc="",e)for(var n in e[t].btn){var r=e[t].btn[n].ty.split("-");switch(e[t].btn[n].ty){case"space":slc="space";break;case"a":slc="a";break;case"a-extra":jQuery(e[t].tag).append(add_link(e[t].btn[n]));continue;case"text":case"button":case"reset":case"submit":slc="input"}r.hasOwnProperty(1)||jQuery("#"+slc+"-tmpl").tmpl(e[t].btn[n]).appendTo(e[t].tag)}}function link_options(e,t){return confirm(t)&&(window.location=e),!1}function add_div(e){var t=document.createElement("div");return e.id&&t.setAttribute("id",e.id),e.hasOwnProperty("style")&&t.setAttribute("class",e.style),e.hasOwnProperty("text")&&(t.innerHTML=e.text),t}function add_select(e){var t=document.createElement("select");return e.id&&t.setAttribute("id",e.id),e.hasOwnProperty("nm")&&t.setAttribute("name",e.nm),e.hasOwnProperty("css")&&t.setAttribute("class",e.css),t}function add_input(e){var t=document.createElement("input");return e.id&&(t.setAttribute("id",e.id),t.setAttribute("name",e.id)),e.type&&t.setAttribute("type",e.type),e.css&&t.setAttribute("class",e.css),1==e.option&&t.setAttribute("checked","checked"),e.value&&t.setAttribute("value",e.value),t}function add_icon(e){var t=document.createElement("i");return e.class&&t.setAttribute("class",e.icon),t}function add_link(e){var t=document.createElement("a");if(t.setAttribute("id",e.id),t.setAttribute("href",e.href),e.hasOwnProperty("class")&&t.setAttribute("class",e.class),e.hasOwnProperty("onclick")&&t.setAttribute("onclick",e.onclick),e.hasOwnProperty("text")&&(t.innerHTML=e.text),"object"==typeof e.data&&0<obj_length(e.data))for(v_data in e.data)t.setAttribute(v_data,e.data[v_data]);return t}function build_table(){"undefined"!=typeof dtbl&&"object"==typeof dtbl&&null!=dtbl&&0<dtbl.length&&jQuery("#dataTable").dataTable({sDom:"<'pull-right'l>t<'row-fluid'<'span12'fp>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"Show _MENU_ entries"}})}function build_table_verify(){"undefined"!=typeof dtbl&&"object"==typeof dtbl&&null!=dtbl&&0<dtbl.length&&dtbl.length<dtbl_lmt?(construct_table(),build_table()):!0===dtbl_bool&&"undefined"!=typeof dtbl_bool&&"string"!=typeof dtbl&&"undefined"!=typeof dtbl?nodata("#collapse4","<h1>Cargando Datos</h1>"):(!dtbl_bool||"string"!=typeof dtbl&&"undefined"!=typeof dtbl)&&nodata("#collapse4","<h1>Sin Datos</h1>")}function type_dom(e){switch(e.type){case"div":result=add_div(e);break;case"i":result=add_icon(e);break;case"a":result=add_link(e);break;case"text":case"hidden":case"checkbox":result=add_input(e);break;case"object":result=tablecreate_body_multiple(object_to_array(e.data));break;case"table":result=tableCreate_in(e);break;default:result=document.createTextNode("No se Reconoce el DOM")}return result}function form_error(e,t){if("object"==typeof t&&0<t.length)for(var n=0;n<t.length;n++)jQuery(e).append(jQuery("#form-error-tmpl").tmpl(t[n]));else jQuery(e).append(jQuery("#form-error-tmpl").tmpl(t))}function form_error_continue(e,t){jQuery(e).append(jQuery("#form-error-continue-tmpl").tmpl(t)),jQuery(".alert.alert-success").delay(4500).fadeOut(500)}function select_option(e){vl=e.split(" "),0<jQuery(vl[0]+" option").size()&&jQuery(e).attr("selected","selected")}function unselect_option(e){$(e).prop("selected",!1)}function addfirst_combo(e){vl=e.split(" "),0<jQuery(vl[0]+" option").size()&&jQuery(e).prepend('<option value="0"></option>')}function update_chosen(e){jQuery(e).val("").trigger("liszt:updated")}function empty_combo(e){jQuery(e).empty()}function fill_combo(e,t){return"object"==typeof t&&0<t.length&&(jQuery(e).html(jQuery("#cbx-combo-tmpl-options").tmpl(t)),!0)}function fill_combo(e,t,n,r){return r=void 0!==n?"Seleccione un(a) "+n:"Seleccione alguna opcion",t||(r="No tiene ningun Dato"),"object"==typeof t&&0<t.length?jQuery(e).html(jQuery("#cbx-combo-tmpl-options").tmpl(t)):jQuery(e).html(jQuery("#cbx-combo-tmpl-options").tmpl(null)),jQuery(e).attr("data-placeholder",r),!1}function fill_combos(e,t){empty_combo(e),fill_combo(e,t),addfirst_combo(e),update_chosen(e)}function fill_ad(e,t){return vs_ad[e][t]}function fill_ic(e,t){return ff_icons[e][t]}function ini_srtbl(){jQuery(function(){jQuery("ul.droptrue").sortable({connectWith:"ul",dropOnEmpty:!1}),jQuery("ul.dropfalse").sortable({connectWith:"ul"}),jQuery("#srtbl1, #srtbl2").disableSelection()})}function recargar_listas(e,t){null!=t&&""!=t&&0<t.length?jQuery("#srtbl1").html(jQuery("#v-item-cuenta").tmpl(t)):jQuery("#srtbl1").html(""),null!=e&&""!=e&&0<e.length?jQuery("#srtbl2").html(jQuery("#v-item-cuenta").tmpl(e)):jQuery("#srtbl2").html("")}function nodata(e,t){jQuery(e).html(t)}function tablecreate_body_td(e){for(var t=document.createElement("tr"),n=0;n<=e.length-1;n++){var r=document.createElement("td");null!=e[n]&&e[n].hasOwnProperty("type")?r.appendChild(type_dom(e[n])):null!=e[n]?r.appendChild(document.createTextNode(e[n])):r.appendChild(document.createTextNode("")),t.appendChild(r)}return t}function tablecreate_body_multiple(e){for(var t=document.createElement("p"),n=0;n<=e.length-1;n++)null!=e[n]&&e[n].hasOwnProperty("type")?t.append(type_dom(e[n])):null!=e[n]?t.append(e[n]):t.append("");return t}function tablecreate_body(e){for(var t=document.createElement("tbody"),n=document.createElement("tr"),r=dtbl_ini;r<=Object.keys(e).length-1;r++){n=document.createElement("tr");r%2==0?n.setAttribute("class","odd"):n.setAttribute("class","gradeX odd"),n=tablecreate_body_td(object_to_array(e[r])),t.appendChild(n)}return t}function tableCreate(e,t,n,r,o){var a=document.createElement("table"),i=document.createElement("thead"),l=0,d=document.createElement("tr");for(var c in a.setAttribute("class",r),a.setAttribute("id",n),t[0]){var u=document.createElement("td");void 0!==o[l]?u.appendChild(document.createTextNode(o[l])):u.appendChild(document.createTextNode(c)),d.appendChild(u),l++}i.appendChild(d),a.appendChild(i);var s=document.createElement("tbody");null!=t&&""!=t&&0<Object.keys(t).length&&(s=tablecreate_body(t),a.appendChild(s)),jQuery(e).html(a)}function tableCreate_in(e){var t=document.createElement("table"),n=document.createElement("thead"),r=0,o=document.createElement("tr");for(var a in t.setAttribute("class","table table-bordered table-condensed table-hover table-striped"),e.thead){var i=document.createElement("td");void 0!==e.thead[r]?i.appendChild(document.createTextNode(e.thead[r])):i.appendChild(document.createTextNode(a)),o.appendChild(i),r++}n.appendChild(o),t.appendChild(n);var l=document.createElement("tbody");return null!=e.data&&""!=e.data&&0<Object.keys(e.data).length&&(l=tablecreate_body(e.data),t.appendChild(l)),t}function get_locacion(vfn,ubi){jQuery.ajax({url:base_url+"ubicaciones/ubicacion_ajax/"+vfn[ubi].callfn,data:{dt:vfn[ubi].data,jx:vfn[ubi].ajax},type:"POST",async:!1,dataType:"json"}).done(function(dt_req){init=ubi;for(var i=0;i<obj_length(dt_req);i++){var data={};if(fill_combos(vfn[ubi].id,dt_req[i].data),vfn[ubi].hasOwnProperty("vari")){var variable=vfn[ubi].vari,texton=JSON.stringify(dt_req[i].data);eval(variable+" = "+texton)}ubi++}jQuery(".chzn-select-deselect").chosen()}).error(function(e){console.log(e)})}function ajax_ctrl(e,t,n,r,o,a){if(rslt_ajax=!1,"object"==typeof o&&0<Object.keys(o).length&&!a)o={pdt:o};else if("string"==typeof o&&"&"!==o[0][1])o="&"+o;else if(!a)return!1;return jQuery.ajax({url:base_url+e+t+"_ajax/ajax_"+n,data:o,type:"POST",async:!1,dataType:r}).done(function(e){null!=e&&e.exist&&0<Object.keys(e.data).length&&(rslt_ajax=e.data)}).error(function(e){console.log(e)}),rslt_ajax}function ajax_ctrl_img(e,t,n,r,o){return rslt_ajax="",jQuery.ajax({url:base_url+e+t+"_ajax/ajax_"+n,type:"POST",data:{pdt:o},cache:!1}).done(function(e){null!=e&&0<e.data.length?rslt_ajax=e.data:rslt_ajax=0}).error(function(e){console.log(e)}),rslt_ajax}function obj_length(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}function object_to_array(t){var n=[],r=0;return Object.keys(t).map(function(e){n[r]=t[e],r++}),n}function cargador_anios(e,t,n,r){var o=0,a=[],i=[],l=new Date;if(l=l.getFullYear(),l+=n,r)for(var d=l;t<d;d--)i.id=d,i.ino=d,a[o]=Object.assign({},i),o++;else for(d=t;d<=l;d++)i.id=d,i.ino=d,a[o]=Object.assign({},i),o++;fill_combo(e,a)}function fill_form_error(e,t){for(var n=Object.keys(t).length-1;0<=n;n--)""!=t[Object.keys(t)[n]].nombre&&(jQuery(".inline-block."+Object.keys(t)[n]).css("display","inline"),form_error("."+Object.keys(t)[n],t[Object.keys(t)[n]]))}function enable_form(){}function calculo_exento(e,t,n){var r=0;return 0<e&&0<t&&(r=1==n?e-t:e*t/100),r}function redondeador(e){var t=0;return nint=n_dec(e),t=e-nint,.555<nint&&t++,t}function redondeador_it(e){var t=0;return nint=n_dec(e),t=e-nint,.495<nint&&t++,t}function n_dec(e){for(e=parseFloat(e);1e3<e;)e-=1e3;for(;100<e;)e-=100;for(;10<e;)e-=10;for(;1<=e;)e-=1;return e}function fdependencia(e,t){for(var n="",r="",o=t.length-1;0<=o;o--){if(t[o].ic0===e)return 0!==t[o].ic0&&(n=""!==(r=fdependencia(t[o].ic,t))&&"->"!==r.split(" ")[1]?" -> "+r:""!==r?r:"")," -> "+t[o].i3+n;n=""}return""}url=base_url+url_dir+url_pag,sino=[{id:"1",ino:"SI"},{id:"0",ino:"NO"}],cove=[{id:"0",ino:"Compras"},{id:"1",ino:"Ventas"}],facexen=[{id:"0",ino:"Pocentaje"},{id:"1",ino:"Monto Fijo"}],vs_ad={ta:{1:"Activo",0:"Inactivo"},td:{1:"Eliminado",0:"No Eliminado"}},ff_icons={flu:{1:"icon-lock",0:"icon-unlock"},cok:{1:"icon-ok-circle",0:"icon-remove"},rem:{0:"icon-remove"},gru:{0:"icon-group"}},fshare=[{id:"1",ino:"Privada"},{id:"0",ino:"Publica / Compartida"}],dfmes=[{id:"1",ino:"ENE"},{id:"2",ino:"FEB"},{id:"3",ino:"MAR"},{id:"4",ino:"ABR"},{id:"5",ino:"MAY"},{id:"6",ino:"JUN"},{id:"7",ino:"JUL"},{id:"8",ino:"AGO"},{id:"9",ino:"SEP"},{id:"10",ino:"OCT"},{id:"11",ino:"NOV"},{id:"12",ino:"DIC"}],dtbl_bool=!1,dtbl_ini=0,dtbl_end=50,String.prototype.ucfirst=function(e){return s=e?this:this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," "),0<s.length?s.charAt(0).toUpperCase()+s.slice(1):s},jQuery(window).on("load",function(){"undefined"!=typeof mx&&"object"==typeof mx&&loadbtn(mx),build_table_verify(),"undefined"!=typeof fdt&&"object"==typeof fdt&&"false"===fdt.form_error?"false"===fdt.data.form_continue?fdt.data.hasOwnProperty("no_save")?form_error(".no_save",fdt.data.no_save):fill_form_error(".control",fdt.data):"true"===fdt.data.form_continue&&form_error_continue(".no_save",fdt.data.no_save):"undefined"!=typeof fdt&&"object"==typeof fdt&&fdt.hasOwnProperty("sec")&&form_error(".no_save",fdt.sec),"undefined"!=typeof fdt_n&&"object"==typeof fdt_n&&!0===fdt_n.form_error&&(fdt_n.data.no_save.unshift({nombre:"No puede agregar registro porque faltan los siguientes datos."}),form_error(".no_save",fdt_n.data.no_save)),0<jQuery("body").find("#srtbl1").length&&ini_srtbl(),$('input[type="submit"]').click(function(e){$('input[type="submit"]').attr("submit-button","disabled")})});