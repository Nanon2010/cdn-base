!function(a){a.fn.drag=function(e,t,n){return t&&this.bind("dragstart",e),n&&this.bind("dragend",n),e?this.bind("drag",t||e):this.trigger("drag")};var r=a.event,i=r.special,s=i.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(e){(e=a.extend({distance:s.distance,which:s.which,not:s.not},e||{})).distance=d(e.distance),r.add(this,"mousedown",u,e),this.attachEvent&&this.attachEvent("ondragstart",t)},teardown:function(){r.remove(this,"mousedown",u),this===s.dragging&&(s.dragging=s.proxy=!1),c(this,!0),this.detachEvent&&this.detachEvent("ondragstart",t)}};function u(e){var t,n=this,o=e.data||{};if(o.elem)n=e.dragTarget=o.elem,e.dragProxy=s.proxy||n,e.cursorOffsetX=o.pageX-o.left,e.cursorOffsetY=o.pageY-o.top,e.offsetX=e.pageX-e.cursorOffsetX,e.offsetY=e.pageY-e.cursorOffsetY;else if(s.dragging||0<o.which&&e.which!=o.which||a(e.target).is(o.not))return;switch(e.type){case"mousedown":return a.extend(o,a(n).offset(),{elem:n,target:e.target,pageX:e.pageX,pageY:e.pageY}),r.add(document,"mousemove mouseup",u,o),c(n,!1),s.dragging=null,!1;case!s.dragging&&"mousemove":if(d(e.pageX-o.pageX)+d(e.pageY-o.pageY)<o.distance)break;e.target=o.target,!1!==(t=g(e,"dragstart",n))&&(s.dragging=n,s.proxy=e.dragProxy=a(t||n)[0]);case"mousemove":if(s.dragging){if(t=g(e,"drag",n),i.drop&&(i.drop.allowed=!1!==t,i.drop.handler(e)),!1!==t)break;e.type="mouseup"}case"mouseup":r.remove(document,"mousemove mouseup",u),s.dragging&&(i.drop&&i.drop.handler(e),g(e,"dragend",n)),c(n,!0),s.dragging=s.proxy=o.elem=!1}return!0}function g(e,t,n){e.type=t;var o=a.event.handle.call(n,e);return!1!==o&&(o||e.result)}function d(e){return Math.pow(e,2)}function t(){return!1===s.dragging}function c(e,t){e&&(e.unselectable=t?"off":"on",e.onselectstart=function(){return t},e.style&&(e.style.MozUserSelect=t?"":"none"))}i.dragstart=i.dragend={setup:function(){},teardown:function(){}}}(jQuery),function(o){var t=["DOMMouseScroll","mousewheel"];function n(e){var t=[].slice.call(arguments,1),n=0;return(e=o.event.fix(e||window.event)).type="mousewheel",e.wheelDelta&&(n=e.wheelDelta/120),e.detail&&(n=-e.detail/3),t.unshift(e,n),o.event.handle.apply(this,t)}o.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null}},o.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(l){l.plot.plugins.push({init:function(g){function o(e,t){var n=g.offset();n.left=e.pageX-n.left,n.top=e.pageY-n.top,t?g.zoomOut({center:n}):g.zoom({center:n})}function a(e,t){return o(e,t<0),!1}var n="default",r=0,i=0,s=null;function u(e){if(1!=e.which)return!1;var t=g.getPlaceholder().css("cursor");t&&(n=t),g.getPlaceholder().css("cursor",g.getOptions().pan.cursor),r=e.pageX,i=e.pageY}function d(e){var t=g.getOptions().pan.frameRate;!s&&t&&(s=setTimeout(function(){g.pan({left:r-e.pageX,top:i-e.pageY}),r=e.pageX,i=e.pageY,s=null},1/t*1e3))}function c(e){s&&(clearTimeout(s),s=null),g.getPlaceholder().css("cursor",n),g.pan({left:r-e.pageX,top:i-e.pageY})}g.zoomOut=function(e){e||(e={}),e.amount||(e.amount=g.getOptions().zoom.amount),e.amount=1/e.amount,g.zoom(e)},g.zoom=function(e){e||(e={});var t=e.center,n=e.amount||g.getOptions().zoom.amount,o=g.width(),a=g.height();t||(t={left:o/2,top:a/2});var r=t.left/o,i=t.top/a,u={x:{min:t.left-r*o/n,max:t.left+(1-r)*o/n},y:{min:t.top-i*a/n,max:t.top+(1-i)*a/n}};l.each(g.getAxes(),function(e,t){var n=t.options,o=u[t.direction].min,a=u[t.direction].max,r=n.zoomRange;if(!1!==r){if(o=t.c2p(o),(a=t.c2p(a))<o){var i=o;o=a,a=i}var s=a-o;r&&(null!=r[0]&&s<r[0]||null!=r[1]&&s>r[1])||(n.min=o,n.max=a)}}),g.setupGrid(),g.draw(),e.preventEvent||g.getPlaceholder().trigger("plotzoom",[g])},g.pan=function(e){var s={x:+e.left,y:+e.top};isNaN(s.x)&&(s.x=0),isNaN(s.y)&&(s.y=0),l.each(g.getAxes(),function(e,t){var n,o,a=t.options,r=s[t.direction];n=t.c2p(t.p2c(t.min)+r),o=t.c2p(t.p2c(t.max)+r);var i=a.panRange;!1!==i&&(i&&(null!=i[0]&&i[0]>n&&(n+=r=i[0]-n,o+=r),null!=i[1]&&i[1]<o&&(n+=r=i[1]-o,o+=r)),a.min=n,a.max=o)}),g.setupGrid(),g.draw(),e.preventEvent||g.getPlaceholder().trigger("plotpan",[g])},g.hooks.bindEvents.push(function(e,t){var n=e.getOptions();n.zoom.interactive&&(t[n.zoom.trigger](o),t.mousewheel(a)),n.pan.interactive&&(t.bind("dragstart",{distance:10},u),t.bind("drag",d),t.bind("dragend",c))}),g.hooks.shutdown.push(function(e,t){t.unbind(e.getOptions().zoom.trigger,o),t.unbind("mousewheel",a),t.unbind("dragstart",u),t.unbind("drag",d),t.unbind("dragend",c),s&&clearTimeout(s)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})}(jQuery);