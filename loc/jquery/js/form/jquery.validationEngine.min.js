!function(C){"use strict";var T={init:function(e){var t=this;return t.data("jqv")&&null!=t.data("jqv")||(e=T._saveOptions(t,e),C(".formError").live("click",function(){C(this).fadeOut(150,function(){C(this).parent(".formErrorOuter").remove(),C(this).remove()})})),this},attach:function(e){if(!C(this).is("form"))return alert("Sorry, jqv.attach() only applies to a form"),this;var t,a=this;return(t=e?T._saveOptions(a,e):a.data("jqv")).validateAttribute=a.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",t.binded&&(a.find("["+t.validateAttribute+"*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(t.validationEventTrigger,T._onFieldEvent),a.find("["+t.validateAttribute+"*=validate][type=checkbox],["+t.validateAttribute+"*=validate][type=radio]").bind("click",T._onFieldEvent),a.find("["+t.validateAttribute+"*=validate][class*=datepicker]").bind(t.validationEventTrigger,{delay:300},T._onFieldEvent)),t.autoPositionUpdate&&C(window).bind("resize",{noAnimation:!0,formElem:a},T.updatePromptsPosition),a.bind("submit",T._onSubmitEvent),this},detach:function(){if(!C(this).is("form"))return alert("Sorry, jqv.detach() only applies to a form"),this;var e=this,t=e.data("jqv");return e.find("["+t.validateAttribute+"*=validate]").not("[type=checkbox]").unbind(t.validationEventTrigger,T._onFieldEvent),e.find("["+t.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",T._onFieldEvent),e.unbind("submit",T.onAjaxFormComplete),e.find("["+t.validateAttribute+"*=validate]").not("[type=checkbox]").die(t.validationEventTrigger,T._onFieldEvent),e.find("["+t.validateAttribute+"*=validate][type=checkbox]").die("click",T._onFieldEvent),e.die("submit",T.onAjaxFormComplete),e.removeData("jqv"),t.autoPositionUpdate&&C(window).unbind("resize",T.updatePromptsPosition),this},validate:function(){var e=C(this),t=null;if(e.is("form")&&!e.hasClass("validating")){e.addClass("validating");var a=e.data("jqv");t=T._validateFields(this),setTimeout(function(){e.removeClass("validating")},100),t&&a.onFormSuccess?a.onFormSuccess():!t&&a.onFormFailure&&a.onFormFailure()}else if(e.is("form"))e.removeClass("validating");else{a=e.closest("form").data("jqv");(t=T._validateField(e,a))&&a.onFieldSuccess?a.onFieldSuccess():a.onFieldFailure&&0<a.InvalidFields.length&&a.onFieldFailure()}return t},updatePromptsPosition:function(e){if(e&&this==window)var r=e.data.formElem,i=e.data.noAnimation;else r=C(this.closest("form"));var o=r.data("jqv");return r.find("["+o.validateAttribute+"*=validate]").not(":disabled").each(function(){var e=C(this);o.prettySelect&&e.is(":hidden")&&(e=r.find("#"+o.usePrefix+e.attr("id")+o.useSuffix));var t=T._getPrompt(e),a=C(t).find(".formErrorContent").html();t&&T._updatePrompt(e,C(t),a,void 0,!1,o,i)}),this},showPrompt:function(e,t,a,r){var i=this.closest("form").data("jqv");return i||(i=T._saveOptions(this,i)),a&&(i.promptPosition=a),i.showArrow=1==r,T._showPrompt(this,e,t,!1,i),this},hide:function(){var e,t=C(this).closest("form").data("jqv"),a=t&&t.fadeDuration?t.fadeDuration:.3;return e=C(this).is("form")?"parentForm"+T._getClassName(C(this).attr("id")):T._getClassName(C(this).attr("id"))+"formError",C("."+e).fadeTo(a,.3,function(){C(this).parent(".formErrorOuter").remove(),C(this).remove()}),this},hideAll:function(){var e=this.data("jqv"),t=e?e.fadeDuration:.3;return C(".formError").fadeTo(t,.3,function(){C(this).parent(".formErrorOuter").remove(),C(this).remove()}),this},_onFieldEvent:function(e){var t=C(this),a=t.closest("form").data("jqv");a.eventTrigger="field",window.setTimeout(function(){T._validateField(t,a),0==a.InvalidFields.length&&a.onFieldSuccess?a.onFieldSuccess():0<a.InvalidFields.length&&a.onFieldFailure&&a.onFieldFailure()},e.data?e.data.delay:0)},_onSubmitEvent:function(){var e=C(this),t=e.data("jqv");t.eventTrigger="submit";var a=T._validateFields(e);return a&&t.ajaxFormValidation?(T._validateFormWithAjax(e,t),!1):t.onValidationComplete?!!t.onValidationComplete(e,a):a},_checkAjaxStatus:function(e){var a=!0;return C.each(e.ajaxValidCache,function(e,t){if(!t)return a=!1}),a},_checkAjaxFieldStatus:function(e,t){return 1==t.ajaxValidCache[e]},_validateFields:function(a){var r=a.data("jqv"),i=!1;a.trigger("jqv.form.validating");var o=null;if(a.find("["+r.validateAttribute+"*=validate]").not(":disabled").each(function(){var e=C(this),t=[];if(C.inArray(e.attr("name"),t)<0){if((i|=T._validateField(e,r))&&null==o&&(o=e.is(":hidden")&&r.prettySelect?e=a.find("#"+r.usePrefix+T._jqSelector(e.attr("id"))+r.useSuffix):e),r.doNotShowAllErrosOnSubmit)return!1;if(t.push(e.attr("name")),1==r.showOneMessage&&i)return!1}}),a.trigger("jqv.form.result",[i]),i){if(r.scroll){var e=o.offset().top,t=o.offset().left,s=r.promptPosition;if("string"==typeof s&&-1!=s.indexOf(":")&&(s=s.substring(0,s.indexOf(":"))),"bottomRight"!=s&&"bottomLeft"!=s){var l=T._getPrompt(o);l&&(e=l.offset().top)}if(r.isOverflown){var n=C(r.overflownDIV);if(!n.length)return!1;e+=n.scrollTop()+-parseInt(n.offset().top)-5,C(r.overflownDIV+":not(:animated)").animate({scrollTop:e},1100,function(){r.focusFirstField&&o.focus()})}else C("html, body").animate({scrollTop:e},1100,function(){r.focusFirstField&&o.focus()}),C("html, body").animate({scrollLeft:t},1100)}else r.focusFirstField&&o.focus();return!1}return!0},_validateFormWithAjax:function(n,d){var e=n.serialize(),t=d.ajaxFormMethod?d.ajaxFormMethod:"GET",a=d.ajaxFormValidationURL?d.ajaxFormValidationURL:n.attr("action"),u=d.dataType?d.dataType:"json";C.ajax({type:t,url:a,cache:!1,dataType:u,data:e,form:n,methods:T,options:d,beforeSend:function(){return d.onBeforeAjaxFormValidation(n,d)},error:function(e,t){T._ajaxError(e,t)},success:function(e){if("json"==u&&!0!==e){for(var t=!1,a=0;a<e.length;a++){var r=e[a],i=r[0],o=C(C("#"+i)[0]);if(1==o.length){var s=r[2];if(1==r[1])if(""!=s&&s){if(d.allrules[s])(l=d.allrules[s].alertTextOk)&&(s=l);T._showPrompt(o,s,"pass",!1,d,!0)}else T._closePrompt(o);else{var l;if(t|=!0,d.allrules[s])(l=d.allrules[s].alertText)&&(s=l);T._showPrompt(o,s,"",!1,d,!0)}}}d.onAjaxFormComplete(!t,n,e,d)}else d.onAjaxFormComplete(!0,n,e,d)}})},_validateField:function(e,t,a){if(e.attr("id")||(e.attr("id","form-validation-field-"+C.validationEngine.fieldIdCounter),++C.validationEngine.fieldIdCounter),e.is(":hidden")&&!t.prettySelect||e.parent().is(":hidden"))return!1;var r=e.attr(t.validateAttribute),i=/validate\[(.*)\]/.exec(r);if(!i)return!1;var o=i[1].split(/\[|,|\]/),s=e.attr("name"),l="",n="",d=!1,u=!1;t.isError=!1,t.showArrow=!0,0<t.maxErrorsPerField&&(u=!0);var c=C(e.closest("form"));for(var f in o)o[f]=o[f].replace(" ",""),""===o[f]&&delete o[f];f=0;for(var v=0;f<o.length;f++){if(u&&v>=t.maxErrorsPerField){if(!d){var m=C.inArray("required",o);d=-1!=m&&f<=m}break}var p=void 0;switch(o[f]){case"required":d=!0,p=T._getErrorMessage(c,e,o[f],o,f,t,T._required);break;case"custom":p=T._getErrorMessage(c,e,o[f],o,f,t,T._custom);break;case"groupRequired":var g="["+t.validateAttribute+"*="+o[f+1]+"]",x=c.find(g).eq(0);if(x[0]!=e[0]){T._validateField(x,t,a),t.showArrow=!0;continue}(p=T._getErrorMessage(c,e,o[f],o,f,t,T._groupRequired))&&(d=!0),t.showArrow=!1;break;case"ajax":(p=T._ajax(e,o,f,t))&&(n="load");break;case"minSize":p=T._getErrorMessage(c,e,o[f],o,f,t,T._minSize);break;case"maxSize":p=T._getErrorMessage(c,e,o[f],o,f,t,T._maxSize);break;case"min":p=T._getErrorMessage(c,e,o[f],o,f,t,T._min);break;case"max":p=T._getErrorMessage(c,e,o[f],o,f,t,T._max);break;case"past":p=T._getErrorMessage(c,e,o[f],o,f,t,T._past);break;case"future":p=T._getErrorMessage(c,e,o[f],o,f,t,T._future);break;case"dateRange":g="["+t.validateAttribute+"*="+o[f+1]+"]";t.firstOfGroup=c.find(g).eq(0),t.secondOfGroup=c.find(g).eq(1),(t.firstOfGroup[0].value||t.secondOfGroup[0].value)&&(p=T._getErrorMessage(c,e,o[f],o,f,t,T._dateRange)),p&&(d=!0),t.showArrow=!1;break;case"dateTimeRange":g="["+t.validateAttribute+"*="+o[f+1]+"]";t.firstOfGroup=c.find(g).eq(0),t.secondOfGroup=c.find(g).eq(1),(t.firstOfGroup[0].value||t.secondOfGroup[0].value)&&(p=T._getErrorMessage(c,e,o[f],o,f,t,T._dateTimeRange)),p&&(d=!0),t.showArrow=!1;break;case"maxCheckbox":e=C(c.find("input[name='"+s+"']")),p=T._getErrorMessage(c,e,o[f],o,f,t,T._maxCheckbox);break;case"minCheckbox":e=C(c.find("input[name='"+s+"']")),p=T._getErrorMessage(c,e,o[f],o,f,t,T._minCheckbox);break;case"equals":p=T._getErrorMessage(c,e,o[f],o,f,t,T._equals);break;case"funcCall":p=T._getErrorMessage(c,e,o[f],o,f,t,T._funcCall);break;case"creditCard":p=T._getErrorMessage(c,e,o[f],o,f,t,T._creditCard);break;case"condRequired":void 0!==(p=T._getErrorMessage(c,e,o[f],o,f,t,T._condRequired))&&(d=!0)}var h=!1;if("object"==typeof p)switch(p.status){case"_break":h=!0;break;case"_error":p=p.message;break;case"_error_no_prompt":return!0}if(h)break;"string"==typeof p&&(l+=p+"<br/>",t.isError=!0,v++)}!d&&e.val().length<1&&(t.isError=!1);var _=e.prop("type");("radio"==_||"checkbox"==_)&&1<c.find("input[name='"+s+"']").size()&&(e=C(c.find("input[name='"+s+"'][type!=hidden]:first")),t.showArrow=!1),e.is(":hidden")&&t.prettySelect&&(e=c.find("#"+t.usePrefix+T._jqSelector(e.attr("id"))+t.useSuffix)),t.isError?T._showPrompt(e,l,n,!1,t):T._closePrompt(e),e.trigger("jqv.field.result",[e,t.isError,l]);var b=C.inArray(e[0],t.InvalidFields);return-1==b?t.isError&&t.InvalidFields.push(e[0]):t.isError||t.InvalidFields.splice(b,1),T._handleStatusCssClasses(e,t),t.isError},_handleStatusCssClasses:function(e,t){t.addSuccessCssClassToField&&e.removeClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&e.removeClass(t.addFailureCssClassToField),t.addSuccessCssClassToField&&!t.isError&&e.addClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&t.isError&&e.addClass(t.addFailureCssClassToField)},_getErrorMessage:function(e,t,a,r,i,o,s){var l=a;"custom"==a&&(a="custom["+r[jQuery.inArray(a,r)+1]+"]");var n,d=(t.attr("data-validation-engine")?t.attr("data-validation-engine"):t.attr("class")).split(" ");if(null!=(n="future"==a||"past"==a||"maxCheckbox"==a||"minCheckbox"==a?s(e,t,r,i,o):s(t,r,i,o))){var u=T._getCustomErrorMessage(C(t),d,l,o);u&&(n=u)}return n},_getCustomErrorMessage:function(e,t,a,r){var i=!1,o=T._validityProp[a];if(null!=o&&null!=(i=e.attr("data-errormessage-"+o)))return i;if(null!=(i=e.attr("data-errormessage")))return i;var s="#"+e.attr("id");if(void 0!==r.custom_error_messages[s]&&void 0!==r.custom_error_messages[s][a])i=r.custom_error_messages[s][a].message;else if(0<t.length)for(var l=0;l<t.length&&0<t.length;l++){var n="."+t[l];if(void 0!==r.custom_error_messages[n]&&void 0!==r.custom_error_messages[n][a]){i=r.custom_error_messages[n][a].message;break}}return i||void 0===r.custom_error_messages[a]||void 0===r.custom_error_messages[a].message||(i=r.custom_error_messages[a].message),i},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(e,t,a,r){switch(e.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:if(!C.trim(e.val())||e.val()==e.attr("data-validation-placeholder")||e.val()==e.attr("placeholder"))return r.allrules[t[a]].alertText;break;case"radio":case"checkbox":var i=e.closest("form"),o=e.attr("name");if(0==i.find("input[name='"+o+"']:checked").size())return 1==i.find("input[name='"+o+"']:visible").size()?r.allrules[t[a]].alertTextCheckboxe:r.allrules[t[a]].alertTextCheckboxMultiple}},_groupRequired:function(e,t,a,r){var i="["+r.validateAttribute+"*="+t[a+1]+"]",o=!1;if(e.closest("form").find(i).each(function(){if(!T._required(C(this),t,a,r))return!(o=!0)}),!o)return r.allrules[t[a]].alertText},_custom:function(e,t,a,r){var i,o=t[a+1],s=r.allrules[o];if(s)if(s.regex){var l=s.regex;if(!l)return void alert("jqv:custom regex not found - "+o);if(!new RegExp(l).test(e.val()))return r.allrules[o].alertText}else{if(!s.func)return void alert("jqv:custom type not allowed "+o);if("function"!=typeof(i=s.func))return void alert("jqv:custom parameter 'function' is no function - "+o);if(!i(e,t,a,r))return r.allrules[o].alertText}else alert("jqv:custom rule not found - "+o)},_funcCall:function(e,t,a,r){var i,o=t[a+1];if(-1<o.indexOf(".")){for(var s=o.split("."),l=window;s.length;)l=l[s.shift()];i=l}else i=window[o]||r.customFunctions[o];if("function"==typeof i)return i(e,t,a,r)},_equals:function(e,t,a,r){var i=t[a+1];if(e.val()!=C("#"+i).val())return r.allrules.equals.alertText},_maxSize:function(e,t,a,r){var i=t[a+1];if(i<e.val().length){var o=r.allrules.maxSize;return o.alertText+i+o.alertText2}},_minSize:function(e,t,a,r){var i=t[a+1];if(e.val().length<i){var o=r.allrules.minSize;return o.alertText+i+o.alertText2}},_min:function(e,t,a,r){var i=parseFloat(t[a+1]);if(parseFloat(e.val())<i){var o=r.allrules.min;return o.alertText2?o.alertText+i+o.alertText2:o.alertText+i}},_max:function(e,t,a,r){var i=parseFloat(t[a+1]);if(i<parseFloat(e.val())){var o=r.allrules.max;return o.alertText2?o.alertText+i+o.alertText2:o.alertText+i}},_past:function(e,t,a,r,i){var o,s=a[r+1],l=C(e.find("input[name='"+s.replace(/^#+/,"")+"']"));if("now"==s.toLowerCase())o=new Date;else if(null!=l.val()){if(l.is(":disabled"))return;o=T._parseDate(l.val())}else o=T._parseDate(s);if(o<T._parseDate(t.val())){var n=i.allrules.past;return n.alertText2?n.alertText+T._dateToString(o)+n.alertText2:n.alertText+T._dateToString(o)}},_future:function(e,t,a,r,i){var o,s=a[r+1],l=C(e.find("input[name='"+s.replace(/^#+/,"")+"']"));if("now"==s.toLowerCase())o=new Date;else if(null!=l.val()){if(l.is(":disabled"))return;o=T._parseDate(l.val())}else o=T._parseDate(s);if(T._parseDate(t.val())<o){var n=i.allrules.future;return n.alertText2?n.alertText+T._dateToString(o)+n.alertText2:n.alertText+T._dateToString(o)}},_isDate:function(e){return new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/).test(e)},_isDateTime:function(e){return new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/).test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,t,a,r){return!r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2:T._isDate(r.firstOfGroup[0].value)&&T._isDate(r.secondOfGroup[0].value)&&T._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2},_dateTimeRange:function(e,t,a,r){return!r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2:T._isDateTime(r.firstOfGroup[0].value)&&T._isDateTime(r.secondOfGroup[0].value)&&T._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2},_maxCheckbox:function(e,t,a,r,i){var o=a[r+1],s=t.attr("name");if(o<e.find("input[name='"+s+"']:checked").size())return i.showArrow=!1,i.allrules.maxCheckbox.alertText2?i.allrules.maxCheckbox.alertText+" "+o+" "+i.allrules.maxCheckbox.alertText2:i.allrules.maxCheckbox.alertText},_minCheckbox:function(e,t,a,r,i){var o=a[r+1],s=t.attr("name");if(e.find("input[name='"+s+"']:checked").size()<o)return i.showArrow=!1,i.allrules.minCheckbox.alertText+" "+o+" "+i.allrules.minCheckbox.alertText2},_creditCard:function(e,t,a,r){var i=!1,o=e.val().replace(/ +/g,"").replace(/-+/g,""),s=o.length;if(14<=s&&s<=16&&0<parseInt(o)){for(var l,n=0,d=(a=s-1,1),u=new String;l=parseInt(o.charAt(a)),u+=d++%2==0?2*l:l,0<=--a;);for(a=0;a<u.length;a++)n+=parseInt(u.charAt(a));i=n%10==0}if(!i)return r.allrules.creditCard.alertText},_ajax:function(s,e,t,l){var a=e[t+1],n=l.allrules[a],r=n.extraData,i=n.extraDataDynamic,o={fieldId:s.attr("id"),fieldValue:s.val()};if("object"==typeof r)C.extend(o,r);else if("string"==typeof r){var d=r.split("&");for(t=0;t<d.length;t++){var u=d[t].split("=");u[0]&&u[0]&&(o[u[0]]=u[1])}}if(i){var c=String(i).split(",");for(t=0;t<c.length;t++){var f=c[t];if(C(f).length){var v=s.closest("form").find(f).val();f.replace("#",""),escape(v);o[f.replace("#","")]=v}}}if("field"==l.eventTrigger&&delete l.ajaxValidCache[s.attr("id")],!l.isError&&!T._checkAjaxFieldStatus(s.attr("id"),l))return C.ajax({type:l.ajaxFormValidationMethod,url:n.url,cache:!1,dataType:"json",data:o,field:s,rule:n,methods:T,options:l,beforeSend:function(){},error:function(e,t){T._ajaxError(e,t)},success:function(e){var t=e[0],a=C("#"+t+"']").eq(0);if(1==a.length){var r=e[1],i=e[2];if(r){if(l.ajaxValidCache[t]=!0,i){if(l.allrules[i])(o=l.allrules[i].alertTextOk)&&(i=o)}else i=n.alertTextOk;i?T._showPrompt(a,i,"pass",!0,l):T._closePrompt(a),"submit"==l.eventTrigger&&s.closest("form").submit()}else{var o;if(l.ajaxValidCache[t]=!1,l.isError=!0,i){if(l.allrules[i])(o=l.allrules[i].alertText)&&(i=o)}else i=n.alertText;T._showPrompt(a,i,"",!0,l)}}a.trigger("jqv.field.result",[a,l.isError,i])}}),n.alertTextLoad},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,t,a,r,i,o){var s=T._getPrompt(e);o&&(s=!1),s?T._updatePrompt(e,s,t,a,r,i):T._buildPrompt(e,t,a,r,i)},_buildPrompt:function(e,t,a,r,i){var o=C("<div>");switch(o.addClass(T._getClassName(e.attr("id"))+"formError"),o.addClass("parentForm"+T._getClassName(e.parents("form").attr("id"))),o.addClass("formError"),a){case"pass":o.addClass("greenPopup");break;case"load":o.addClass("blackPopup")}r&&o.addClass("ajaxed");C("<div>").addClass("formErrorContent").html(t).appendTo(o);if(i.showArrow){var s=C("<div>").addClass("formErrorArrow"),l=e.data("promptPosition")||i.promptPosition;if("string"==typeof l)-1!=(n=l.indexOf(":"))&&(l=l.substring(0,n));switch(l){case"bottomLeft":case"bottomRight":o.find(".formErrorContent").before(s),s.addClass("formErrorArrowBottom").html('<div class="line1">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line10">\x3c!-- --\x3e</div>');break;case"topLeft":case"topRight":s.html('<div class="line10">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line1">\x3c!-- --\x3e</div>'),o.append(s)}}e.closest(".ui-dialog").length&&o.addClass("formErrorInsideDialog"),o.css({opacity:0,position:"absolute"}),e.before(o);var n=T._calculatePosition(e,o,i);return o.css({top:n.callerTopPosition,left:n.callerleftPosition,marginTop:n.marginTopSize,opacity:0}).data("callerField",e),i.autoHidePrompt&&setTimeout(function(){o.animate({opacity:0},function(){o.closest(".formErrorOuter").remove(),o.remove()})},i.autoHideDelay),o.animate({opacity:.87})},_updatePrompt:function(e,t,a,r,i,o,s){if(t){void 0!==r&&("pass"==r?t.addClass("greenPopup"):t.removeClass("greenPopup"),"load"==r?t.addClass("blackPopup"):t.removeClass("blackPopup")),i?t.addClass("ajaxed"):t.removeClass("ajaxed"),t.find(".formErrorContent").html(a);var l=T._calculatePosition(e,t,o),n={top:l.callerTopPosition,left:l.callerleftPosition,marginTop:l.marginTopSize};s?t.css(n):t.animate(n)}},_closePrompt:function(e){var t=T._getPrompt(e);t&&t.fadeTo("fast",0,function(){t.parent(".formErrorOuter").remove(),t.remove()})},closePrompt:function(e){return T._closePrompt(e)},_getPrompt:function(e){var t=C(e).closest("form").attr("id"),a=T._getClassName(e.attr("id"))+"formError",r=C("."+T._escapeExpression(a)+".parentForm"+t)[0];if(r)return C(r)},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(e){var t=C(document),a=C("body"),r=e&&e.hasClass("rtl")||e&&"rtl"===(e.attr("dir")||"").toLowerCase()||t.hasClass("rtl")||"rtl"===(t.attr("dir")||"").toLowerCase()||a.hasClass("rtl")||"rtl"===(a.attr("dir")||"").toLowerCase();return Boolean(r)},_calculatePosition:function(e,t,a){var r,i,o,s=e.width(),l=e.position().left,n=e.position().top;e.height();r=i=0,o=-t.height();var d=e.data("promptPosition")||a.promptPosition,u="",c="",f=0,v=0;switch("string"==typeof d&&-1!=d.indexOf(":")&&(u=d.substring(d.indexOf(":")+1),d=d.substring(0,d.indexOf(":")),-1!=u.indexOf(",")&&(c=u.substring(u.indexOf(",")+1),u=u.substring(0,u.indexOf(",")),v=parseInt(c),isNaN(v)&&(v=0)),f=parseInt(u),isNaN(u)&&(u=0)),d){default:case"topRight":i+=l+s-30,r+=n;break;case"topLeft":r+=n,i+=l;break;case"centerRight":r=n+4,o=0,i=l+e.outerWidth(!0)+5;break;case"centerLeft":i=l-(t.width()+2),r=n+4,o=0;break;case"bottomLeft":r=n+e.height()+5,o=0,i=l;break;case"bottomRight":i=l+s-30,r=n+e.height()+5,o=0}return{callerTopPosition:(r+=v)+"px",callerleftPosition:(i+=f)+"px",marginTopSize:o+"px"}},_saveOptions:function(e,t){if(C.validationEngineLanguage)var a=C.validationEngineLanguage.allRules;else C.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");C.validationEngine.defaults.allrules=a;var r=C.extend(!0,{},C.validationEngine.defaults,t);return e.data("jqv",r),r},_getClassName:function(e){if(e)return e.replace(/:/g,"_").replace(/\./g,"_")},_jqSelector:function(e){return e.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(e,t,a,r){var i,o;for(i=a+1;i<t.length;i++)if((o=jQuery("#"+t[i]).first()).length&&null==T._required(o,["required"],0,r))return T._required(e,["required"],0,r)}};C.fn.validationEngine=function(e){var t=C(this);return t[0]?"string"==typeof e&&"_"!=e.charAt(0)&&T[e]?("showPrompt"!=e&&"hide"!=e&&"hideAll"!=e&&T.init.apply(t),T[e].apply(t,Array.prototype.slice.call(arguments,1))):"object"!=typeof e&&e?void C.error("Method "+e+" does not exist in jQuery.validationEngine"):(T.init.apply(t,arguments),T.attach.apply(t)):t},C.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:C.noop,onBeforeAjaxFormValidation:C.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,showArrow:!0,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onFormSuccess:!1,onFormFailure:!1,addSuccessCssClassToField:!1,addFailureCssClassToField:!1,autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:.3,prettySelect:!1,usePrefix:"",useSuffix:"",showOneMessage:!1}},C(function(){C.validationEngine.defaults.promptPosition=T.isRTL()?"topLeft":"topRight"})}(jQuery);