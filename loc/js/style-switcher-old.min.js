yepnope.addPrefix("less",function(e){return e.forceCSS=!0,e.attrs={rel:"stylesheet/less",type:"text/css"},e});var styleSwitcher={init:function(){var e=this;less={env:"development"},yepnope([{load:"assets/css/style-switcher.css"},{load:"assets/css/colorpicker.css"},{load:"assets/js/cssbeautify.js"},{load:"assets/js/bootstrap-colorpicker.js",complete:function(){yepnope([{load:"less!assets/less/theme.less"},{load:"assets/js/vendor/less-1.3.3.min.js",complete:function(){e.build(),Modernizr.localstorage&&(localStorage.color&&e.colorSelectorA.css("background-color",localStorage.color),localStorage.pattern&&(e.patternImage=localStorage.pattern))}}])}}])},build:function(){var a=this,t=!1;Modernizr.localstorage&&(t=!0),Modernizr.localstorage&&(localStorage.layout&&$("body").addClass(localStorage.layout),localStorage.color&&a.setColor(localStorage.color),localStorage.pattern&&$("body").css({background:"url(assets/img/pattern/"+localStorage.pattern+".png) repeat"}));$("body").append('<div id="getCSSModal" class="modal hide fade"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h3>Theme CSS</h3><p>Copy textarea content and paste into theme.css</p></div><div class="modal-body"><div id="boxedBodyAlert" class="alert alert-info">Please add the <strong>"fixed"</strong> class to the &lt;body&gt; element.</div><div id="sidebarPos" class="alert alert-info">Plase add the <strong>"side-right"</strong> class to the &lt;body&gt; element.</div><div id="sidebarWidth" class="alert alert-info">Plase add the <strong>"mini-sidebar"</strong> class to the &lt;body&gt; element.</div><div id="topNavStyle" class="alert alert-info">Plase add the <strong>"padTop44"</strong> class to the &lt;body&gt; element. Remove <strong>"navbar-static-top"</strong> class and add the <strong>"navbar-fixed-top"</strong> class to the #top .navbar element.</div><textarea name="cssbeautify" id="cssbeautify" readonly></textarea></div><div class="modal-footer"><button aria-hidden="true" data-dismiss="modal" class="btn">Close</button></div></div>');var o=$("<div />").attr("id","style-switcher").addClass("style-switcher hidden-phone"),e=$("<i />").addClass("icon-cogs icon-2x"),l=$("<a />").attr({href:"#",id:"switcher-link"}).on("click",function(e){e.preventDefault(),o.toggleClass("open")}).append(e),s=$("<h5 />").html("Style Switcher").append(l),r=$("<ul />").addClass("options").attr("data-type","colors"),i=[{Hex:"#0088CC",colorName:"Blue"},{Hex:"#4EB25C",colorName:"Green"},{Hex:"#4A5B7D",colorName:"Navy"},{Hex:"#E05048",colorName:"Red"},{Hex:"#B8A279",colorName:"Beige"},{Hex:"#c71c77",colorName:"Pink"},{Hex:"#734BA9",colorName:"Purple"},{Hex:"#2BAAB1",colorName:"Cyan"}];$.each(i,function(e){var a=$("<li/>").append($("<a/>").css("background-color",i[e].Hex).attr({"data-color-hex":i[e].Hex,"data-color-name":i[e].colorName,href:"#",title:i[e].colorName}).tooltip({placement:"bottom"}));r.append(a)}),r.find("a").on("click",function(e){e.preventDefault(),a.setColor($(this).data("colorHex")),t&&(localStorage.color=$(this).data("colorHex"))});var d=$("<div/>").addClass("color-picker").attr({id:"colorSelector","data-color":i[0].Hex,"data-color-format":"hex"}).append($("<a/>").css("background-color",i[0].Hex).attr({href:"#",id:"colorSelectorA"}),$("<span />").addClass("color-picker-icon"));d.colorpicker().on("changeColor",function(e){d.find("a").css("background-color",e.color.toHex()),a.setColor(e.color.toHex()),t&&(localStorage.color=$(this).data("colorHex"))});var n=$("<li/>").append(d);r.append(n);var c=$("<div />").addClass("style-switcher-wrap").append($("<h6 />").html("Colors"),r,$("<hr/>")),p=$("<a/>").attr({id:"boxLink",href:"#","data-layout-type":"fixed"}).html("Fixed").on("click",function(e){e.preventDefault(),$(this).addClass("active").siblings("a").removeClass("active"),$("body").removeClass("wide").addClass("fixed"),t&&(localStorage.layout="fixed")}),g=$("<a/>").attr({href:"#",id:"wideLink","data-layout-type":"wide"}).html("Wide").on("click",function(e){e.preventDefault(),$(this).addClass("active").siblings("a").removeClass("active"),$("body").removeClass("fixed").addClass("wide").removeAttr("style"),t&&(localStorage.layout="wide")});t&&("fixed"===localStorage.layout?p.addClass("active"):g.addClass("active")),c.append($("<div/>").addClass("options-link").append($("<h6/>").html("Layout Style"),p,g));var m=$("<a/>").html("Static").attr("href","#").on("click",function(e){e.preventDefault(),$(this).addClass("active").siblings("a").removeClass("active"),$("body").removeClass("padTop44"),$("#top .navbar").removeClass("navbar-fixed-top").addClass("navbar-static-top")}),h=$("<a/>").html("Fixed").attr("href","#").on("click",function(e){e.preventDefault(),$(this).addClass("active").siblings("a").removeClass("active"),$("body").addClass("padTop44"),$("#top .navbar").removeClass("navbar-static-top").addClass("navbar-fixed-top")});c.append($("<div/>").addClass("options-link").append($("<h6/>").html("Top Nav Bar Style"),m,h));var v=$("<ul />").addClass("options").attr("data-type","pattern"),u=[{image:"brillant",title:"Brillant"},{image:"always_grey",title:"Always Grey"},{image:"retina_wood",title:"Retina Wood"},{image:"low_contrast_linen",title:"Low Constrat Linen"},{image:"egg_shell",title:"Egg Shel"},{image:"cartographer",title:"Cartographer"},{image:"batthern",title:"Batthern"},{image:"noisy_grid",title:"Noisy Grid"},{image:"diamond_upholstery",title:"Diamond Upholstery"},{image:"greyfloral",title:"Gray Floral"},{image:"white_tiles",title:"White Tiles"},{image:"gplaypattern",title:"GPlay"},{image:"arches",title:"Arches"},{image:"purty_wood",title:"Purty Wood"},{image:"diagonal_striped_brick",title:"Diagonal Striped Brick"},{image:"large_leather",title:"Large Leather"},{image:"bo_play_pattern",title:"BO Play"},{image:"irongrip",title:"Iron Grip"},{image:"wood_1",title:"Dark Wood"},{image:"pool_table",title:"Pool Table"},{image:"crissXcross",title:"crissXcross"},{image:"rip_jobs",title:"R.I.P Steve Jobs"},{image:"random_grey_variations",title:"Random Grey Variations"},{image:"carbon_fibre",title:"Carbon Fibre"}];$.each(u,function(e){var a=$("<li/>").append($("<a/>").css({background:"url(assets/img/pattern/"+u[e].image+".png) repeat"}).attr({href:"#",title:u[e].title,"data-pattern-image":u[e].image}).tooltip({placement:"bottom"}));v.append(a)}),v.find("a").on("click",function(e){e.preventDefault(),$("body").css({"background-image":"url(assets/img/pattern/"+$(this).data("patternImage")+".png)","background-repeat":" repeat"}),a.patternImage=$(this).data("patternImage"),t&&(localStorage.pattern=$(this).data("patternImage"))}),c.append($("<div/>").addClass("pattern").append($("<h6/>").html("Background Pattern"),v));var b=$("<a/>").html("Left").attr("href","#").on("click",function(e){e.preventDefault(),$(this).addClass("active"),f.removeClass("active"),$("body").removeClass("side-right"),$("#sidebarPos").addClass("")}),f=$("<a/>").html("Right").attr("href","#").on("click",function(e){e.preventDefault(),$(this).addClass("active"),b.removeClass("active"),$("body").addClass("side-right")});c.append($("<hr/>"),$("<div/>").addClass("options-link sidebarOpt").append($("<h6/>").html("Side Bar Position"),b,f));var y=$("<a/>").html("Mini").attr("href","#").on("click",function(e){e.preventDefault(),$(this).addClass("active"),C.removeClass("active"),$("body").addClass("mini-sidebar")}),C=$("<a/>").html("Maxi").attr("href","#").on("click",function(e){e.preventDefault(),$(this).addClass("active"),y.removeClass("active"),$("body").removeClass("mini-sidebar")});c.append($("<hr/>"),$("<div/>").addClass("options-link sidebarOpt").append($("<h6/>").html("Side Bar Width"),y,C));var S=$("<a/>").html("Reset").attr("href","#").on("click",function(e){e.preventDefault(),a.reset()}),x=$("<a/>").html("Get CSS").attr("href","#").on("click",function(e){e.preventDefault(),a.getCss()});c.append($("<div/>").addClass("options-link").append($("<hr/>"),S,x)),o.append(s,c),$("body").append(o),a.colorSelectorA=$("#colorSelectorA")},setColor:function(e){$("#colorSelector").data("color",e),$("#colorSelectorA").css("background-color",e),less.modifyVars({"@baseColor":e}),Modernizr.localstorage&&(localStorage.color=e)},reset:function(){return Modernizr.localstorage&&(localStorage.removeItem("color"),localStorage.removeItem("layout"),localStorage.removeItem("pattern")),$("#wideLink").click(),window.location.reload(),!1},getCss:function(){var e,a="",t=$("body").hasClass("fixed"),o=$("#cssbeautify");t?(a='body { background-image: url("../img/pattern/'+this.patternImage+'.png"); }',$("#boxedBodyAlert").removeClass("hide")):$("#boxedBodyAlert").addClass("hide"),o.text(""),a+=$('style[id^="less:"]').text(),e={indent:"\t",autosemicolon:!0},o.text(cssbeautify(a,e)),$("#getCSSModal").modal("show")}};styleSwitcher.init();