!function(){"use strict";function e(e,t){var n,i,o,r,c,l,f,u,s,a,h,p=0,g=e.length,A="",S=!0,d=!1;function R(e){return" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e}function x(e){return"'"===e||'"'===e}function y(e){return"a"<=o&&o<="z"||"A"<=o&&o<="Z"||"0"<=o&&o<="9"||0<="-_*.:#".indexOf(e)}function b(){var e;for(e=u;0<e;e-=1)A+=n.indent}function k(){A=h(A),S?A+=" {":(A+="\n",b(),A+="{"),"\n"!==r&&(A+="\n"),u+=1}function B(){var e;u-=1,A=h(A),d&&";"!==(e=A.charAt(A.length-1))&&"{"!==e&&(A+=";"),A+="\n",b(),A+="}",i.push(A),A=""}for(void 0===(n=1<arguments.length?t:{}).indent&&(n.indent="    "),"string"==typeof n.openbrace&&(S="end-of-line"===n.openbrace),"boolean"==typeof n.autosemicolon&&(d=n.autosemicolon),h=String.prototype.trimRight?function(e){return e.trimRight()}:function(e){return e.replace(/\s+$/,"")},l=(f={Start:u=0,AtRule:1,Block:2,Selector:3,Ruleset:4,Property:5,Separator:6,Expression:7,URL:8}).Start,a=!1,i=[],e=e.replace(/\r\n/g,"\n");p<g;)if(o=e.charAt(p),r=e.charAt(p+1),p+=1,x(s))A+=o,o===s&&(s=null),"\\"===o&&r===s&&(A+=r,p+=1);else if(x(o))A+=o,s=o;else if(a)A+=o,"*"===o&&"/"===r&&(a=!1,A+=r,p+=1);else if("/"!==o||"*"!==r){if(l===f.Start){if(0===i.length&&R(o)&&0===A.length)continue;if(o<=" "||128<=o.charCodeAt(0)){l=f.Start,A+=o;continue}if(y(o)||"["===o||"@"===o){if(0===(c=h(A)).length)0<i.length&&(A="\n\n");else if("}"===c.charAt(c.length-1)||";"===c.charAt(c.length-1))A=c+"\n\n";else for(;" "===(r=A.charAt(A.length-1))||9===r.charCodeAt(0);)A=A.substr(0,A.length-1);A+=o,l="@"===o?f.AtRule:f.Selector;continue}}if(l!==f.AtRule)if(l!==f.Block)if(l!==f.Selector)if(l!==f.Ruleset)if(l!==f.Property)if(l!==f.Separator)if(l!==f.Expression)l===f.URL&&")"===o&&A.charAt(A.length-1!=="\\")?(A+=o,l=f.Expression):A+=o;else{if("}"===o){B(),l=f.Start,0<u&&(l=f.Block);continue}if(";"===o){A=h(A),A+=";\n",l=f.Ruleset;continue}if(A+=o,"("===o&&"l"===A.charAt(A.length-2)&&"r"===A.charAt(A.length-3)&&"u"===A.charAt(A.length-4)){l=f.URL;continue}}else{if(!R(o)){A+=o,l=f.Expression;continue}x(r)&&(l=f.Expression)}else{if(":"===o){A=h(A),A+=": ",l=f.Expression,R(r)&&(l=f.Separator);continue}if("}"===o){B(),l=f.Start,0<u&&(l=f.Block);continue}A+=o}else{if("}"===o){B(),l=f.Start,0<u&&(l=f.Block);continue}if("\n"===o){A=h(A),A+="\n";continue}if(!R(o)){A=h(A),A+="\n",b(),A+=o,l=f.Property;continue}A+=o}else{if("{"===o){k(),l=f.Ruleset;continue}if("}"===o){B(),l=f.Start;continue}A+=o}else{if(y(o)){if(0===(c=h(A)).length)0<i.length&&(A="\n\n");else if("}"===c.charAt(c.length-1))A=c+"\n\n";else for(;" "===(r=A.charAt(A.length-1))||9===r.charCodeAt(0);)A=A.substr(0,A.length-1);b(),A+=o,l=f.Selector;continue}if("}"===o){B(),l=f.Start;continue}A+=o}else{if(";"===o){A+=o,l=f.Start;continue}if("{"===o){c=h(A),k(),l="@font-face"===c?f.Ruleset:f.Block;continue}A+=o}}else a=!0,A+=o,A+=r,p+=1;return A=i.join("")+A}"undefined"!=typeof exports?module.exports=exports=e:"object"==typeof window&&(window.cssbeautify=e)}();