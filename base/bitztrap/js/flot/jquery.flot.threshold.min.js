!function(c){c.plot.plugins.push({init:function(s){s.hooks.processDatapoints.push(function(s,o,n){if(o.threshold){var t,p,i,h,e,l=n.pointsize,u=c.extend({},o);u.datapoints={points:[],pointsize:l},u.label=null,u.color=o.threshold.color,u.threshold=null,u.originSeries=o,u.data=[];var r=o.threshold.below,a=n.points,d=o.lines.show;for(threspoints=[],newpoints=[],t=0;t<a.length;t+=l){if(p=a[t],e=h,h=(i=a[t+1])<r?threspoints:newpoints,d&&e!=h&&null!=p&&0<t&&null!=a[t-l]){var f=(p-a[t-l])/(i-a[t-l+1])*(r-i)+p;for(e.push(f),e.push(r),m=2;m<l;++m)e.push(a[t+m]);for(h.push(null),h.push(null),m=2;m<l;++m)h.push(a[t+m]);for(h.push(f),h.push(r),m=2;m<l;++m)h.push(a[t+m])}h.push(p),h.push(i)}n.points=newpoints,u.datapoints.points=threspoints,0<u.datapoints.points.length&&s.getData().push(u)}})},options:{series:{threshold:null}},name:"threshold",version:"1.0"})}(jQuery);